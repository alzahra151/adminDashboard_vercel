<p-messages></p-messages>
<div
    class="flex justify-between items-center px-3 pb-4 mb-4 bg-yellow-400 rounded-t border-b sm:mb-5 dark:border-gray-600">
    <h3 class="text-lg font-semibold text-gray-900 dark:text-white"> Code
        <span
            class=" col-span-3 inline-flex items-center justify-center justify-self-start  w-[2.5rem] h-[2.5rem] p-3 ml-3 text-sm font-medium text-blue-800 bg-blue-100 rounded-full dark:bg-blue-900 dark:text-blue-300">{{req?.Code}}
        </span>
    </h3>
</div>


<form [formGroup]="PriceOfferForm">
    <div class="">
        <!-- 
        <div formArrayName="PriceOffer" class=" grid grid-clos-4 ">
            <div class=" col-span-2 lg:col-span-1 border-b-2 border-gray-600"
                *ngFor="let item of PriceOffer?.controls; let i = index" [formGroupName]="i">
                <div class=" flex bg-gray-100">
                    <label> الخدمة: </label>
                    <span class="mx-2">{{req?.Services[i].Service.Name}}</span>
                </div>
                <div>
                    <label>عرض السعر: </label>
                    <input type="text" formControlName="ServicePriceOffer" id="ServicePriceOffer{{i+1}}"
                        placeholder="00.000.0" name="ServicePriceOffer{{i+1}}"
                        class="block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500">
                </div>

                <div formArrayName="DeviceOffer">

                    <div *ngFor="let desc of DeviceOffer(i)?.controls; let j=index" [formGroupName]="j">
                        <span class="mx-2">{{req?.Services[i].Devices[j]}}</span><br>
                        <input type="text" formControlName="DevicePricrOffer" placeholder="Description Text"
                            id="ServicePriceOffer{{i+1}}" placeholder="00.000.0" name="ServicePriceOffer{{i+1}}"
                            class=" p-2.5  text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500">
                    </div>
                </div>
            </div>
        </div> -->
        <!-- services -->

        <div class="" formArrayName="PriceOffer">

            <div class="border border-gray-300 p-4" *ngFor="let item of PriceOffer?.controls; let i = index"
                [formGroupName]="i">
                <div class="flex flex-wrap -mx-3 mb-6">
                    <div class="w-full px-3">
                        <label class="block  tracking-wide text-white text-xs font-bold mb-2 bg-black p-3"
                            for="grid-password">
                            {{req?.Services[i].Service.Name}}
                        </label>
                        <input
                            class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
                            formControlName="ServicePriceOffer" id="ServicePriceOffer{{i+1}}" placeholder="00.000.0"
                            name="ServicePriceOffer{{i+1}}">
                        <!-- <p class="text-gray-600 text-xs italic">Make it as long and as crazy as you'd like</p> -->
                    </div>
                </div>
                <div class="flex flex-wrap -mx-3 mb-2" formArrayName="DeviceOffer">
                    <div class="w-full md:w-1/3 px-3 mb-6 md:mb-0"
                        *ngFor="let desc of DeviceOffer(i)?.controls; let j=index" [formGroupName]="j">
                        <label class="block  tracking-wide text-gray-700 text-xs font-bold mb-2" for="grid-city">
                            {{req?.Services[i].Devices[j]}}
                        </label>
                        <input
                            class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
                            formControlName="DevicePricrOffer" type="text" id="ServicePriceOffer{{i+1}}"
                            placeholder="00.000.0" name="ServicePriceOffer{{i+1}}">
                    </div>

                </div>
            </div>
        </div>
        <div class="sm:col-span-2">
            <hr>
            <label for="description" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">
                Total </label>
            <input formControlName="TotalPrice" id="description" rows="4"
                class="block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500"
                placeholder="00.000.0" name="TotalPrice">
        </div>
    </div>
    <div>

        <label for="message" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Your message</label>
        <textarea id="message" rows="4" formControlName="Comment"
            class="block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
            placeholder="Leave a comment..."></textarea>

    </div>
    <button (click)="addPriceOffer()" type="submit"
        class="text-yellow-400 mt-4 inline-flex items-center bg-black hover:bg-primary-800 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-2.5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800">
        <svg class="mr-1 -ml-1 w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd"
                d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z"
                clip-rule="evenodd"></path>
        </svg>
        اضافة عرض السعر
    </button>
    {{PriceOfferForm.value | json}}
</form>